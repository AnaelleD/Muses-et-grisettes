
<html>
    <head>
        <meta charset="utf-8">
        <title>Leflet</title>
        <link rel="stylesheet" href="CSS/leaflet.css" />
        <script src="JS/leaflet.js"></script>
		<script src="JS/d3.v4.js"> </script> 
    </head>
    <body>
        <div id="map" style="height:100%;"></div>

        <script>
            var map;
            /* initialisation de la fonction initmap */
            function initmap() {
                map = new L.Map('map');
                var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
                var osmAttrib='Map data de OpenStreetMap';
                var osm = new L.TileLayer(osmUrl, {minZoom: 10, maxZoom: 15, attribution: osmAttrib});           
                // on centre sur Montpellier : 
                map.setView(new L.LatLng(43.612909, 3.869406),12);
                map.addLayer(osm);
            }
            initmap();
    
            /* Import des données */
			d3.csv("Data/bd_femmes_mtp.csv", function(error, data){

            /* On boucle sur les données pour y placer les points */
            for (i = 0; i < data.length; i++) {
                
                var latitude = data[i]["latitude"];
                var longitude = data[i]["longitude"];

                
                /*
                 * On va créer un cercle sur la carte pour chaque point
                 */
				L.marker([latitude, longitude], {icon: greenIcon}).addTo(map).bindPopup("I am an orange leaf.");
				

            }
		})
			
        </script>

    </body>
</html>
